REM **********
REM LOWBOT PREVIEW 7
REM BY TIMO KLOSS
REM
REM TILES AND PICTURES CREATED WITH LOWRES PAINT 4.
REM SPRITES CREATED WITH SPRITE DESIGNER 1.2.
REM MAPS CREATED WITH TILE MAP EDITOR 2.
REM
REM TO DO:
REM - IMPROVE MUSIC
REM **********

MAXLIVES=3
RINGSFORLIFE=8
CHEAT=FALSE

MAXLEVEL=3
NUMCOLS=64
NUMOBJS=64
MAXFRAME=24


REM JUMP
DEF SOUND 0, 1, 0.5
DEF SOUND LINE 0, 0.2, -17, 0.1
REM SHOOT
DEF SOUND 1, 2, 0.5
DEF SOUND LINE 1, 0.2, 15, 0.05
REM ENEMY HIT
DEF SOUND 2, 2, 0.4
DEF SOUND LINE 2, 0.2, 12, 0.05
REM PLAYER DEATH
DEF SOUND 3,2
REM COLLECT
DEF SOUND 4, 1, 0.5
DEF SOUND LINE 4, 0.1, 0, 0
REM FIRE
DEF SOUND 5, 3, 0.5
DEF SOUND LINE 5, 1, 2, 0.1

DIM SNGARR(15,2),SNGCHA(63,15,1),SNGPHR(63,15,1),SNGPLAYER(2,1)
SNGFIRSTINST=10
GOSUB INITINSTRUMENTS

RESTORE SPRITES
DIM PAL(MAXFRAME,2)
DIM ARR(15)
FOR N=0 TO MAXFRAME
  FOR I=0 TO 15
    READ ARR(I)
  NEXT I
  READ C,PAL(N,0),PAL(N,1),PAL(N,2)
  DEF SPRITE N,ARR
NEXT N

DIM MAP(NUMCOLS-1,7),OBJ(NUMOBJS-1,7)

REM PARAMETER INDEXES FOR OBJ ARRAY
OBJTYPE=0
OBJX=1
OBJY=2
OBJDIR=3
OBJTICK=4
OBJHITS=5
OBJSTARTX=6
OBJSTARTY=7

DIM PROP(63,0)
RESTORE TILEPROPS
FOR I=0 TO 63
  READ C
  IF C=-1 THEN EXIT
  PROP(I,0)=C
NEXT I

DIM OPROP(63,4)
RESTORE OBJPROPS
FOR I=0 TO 63
  READ F
  IF F=-1 THEN EXIT
  OPROP(I,0)=F
  READ OPROP(I,1), OPROP(I,2), OPROP(I,3), OPROP(I,4)
NEXT I

REM PARAMETER INDEXES FOR OPROP ARRAY
OPROPFRAME=0
OPROPMOVE=1
OPROPHITS=2
OPROPTOUCH=3
OPROPSCORE=4

DIM PERSIST HIGHSCORES(7),HIGHNAMES$(7)
PERSIST LASTNAME$
IF HIGHSCORES(0)=0 THEN
  LASTNAME$="AAA"
  FOR I=0 TO 7
    HIGHSCORES(I)=(8-I)*500
    HIGHNAMES$(I)=CHR$(I+65)+CHR$(I+65)+CHR$(I+65)
  NEXT I
END IF

GOSUB INITFADE

RESTORE TILES
GOSUB SHOWIMAGE
GET 0,0 TO 63,63


STARTGAME:
GAMEPAD 0
SPRITE OFF
LAYER 1
CLS
LAYER 0
CLS

LEVEL=1
LIVES=MAXLIVES
SCORE=0

RESTORE TITLESONG
GOSUB READSONG
SNGMAXVOICE=2
FOR I=1 TO 4
  GOSUB QUEUENEXTSONGCHAIN
NEXT I

COLOR 1
TEXT 31,22,"AN",1
TEXT 31,28,"INUTILIS SOFTWARE",1
TEXT 31,34,"PRODUCTION",1
GOSUB FADEIN
WAIT 3 TAP
GOSUB FADEOUT
CLS
TEXT 31,25,"CREATED BY",1
TEXT 31,31,"TIMO KLOSS",1
GOSUB FADEIN
WAIT 3 TAP
GOSUB FADEOUT

RESTORE TITLE
GOSUB SHOWIMAGE
GOSUB FADEIN
LAYER 1
CLS
TX=128
T$="THIS GAME WAS CREATED ENTIRELY ON AN IPAD WITH LOWRES CODER, INCLUDING GRAPHICS AND MUSIC. HAVE FUN!"
TW=TEXT WIDTH(T$)
REPEAT
  TX=TX-1
  IF TX<=-TW THEN
    IF TX=-TW THEN GOSUB DRAWHIGHSCORES
    IF TX<-TW-128 THEN
      CLS
      TX=128
    END IF
  ELSE IF TX<64 THEN
    COLOR 0
    BAR 0,58 TO 63,63
    COLOR 1
    TEXT TX,58,T$
  ELSE
    COLOR 0
    BAR 0,58 TO 63,63
    COLOR 1
    IF TX MOD 16<8 THEN TEXT 31,58,"START",1
  END IF
  GOSUB UPDATESONG
  WAIT 0.05
UNTIL BUTTON(0)
LAYER 0
GOSUB FADEOUT


STARTLEVEL:
RINGS=0
TIME=128

SPRITE OFF
SOUND OFF

IF LEVEL=1 THEN RESTORE LEVEL1
IF LEVEL=2 THEN RESTORE LEVEL2
IF LEVEL=3 THEN RESTORE LEVEL3
GOSUB READMAP

IF LEVEL=1 THEN RESTORE SONGLEVEL1
IF LEVEL=2 THEN RESTORE SONGLEVEL2
IF LEVEL=3 THEN RESTORE SONGLEVEL2
GOSUB READSONG
SNGMAXVOICE=1

GAMEPAD 1

LSCRX=-1
SCRX=0
VELY=0
DIR=1
ANIMF=0
BULC=0

REM SET PLAYER START POSITION
X=2
PLRX=X*8+4
PLRY=0
FOR Y=0 TO 7
  IF PROP(MAP(X,Y),0)>0 THEN
    PLRY=Y*8-1
    EXIT
  END IF
NEXT Y
LPLRY=PLRY

SPRITE PALETTE 0,PAL(0,0),PAL(0,1),PAL(0,2)
SPRITE 0,PLRX-SCRX-4,PLRY-7,ANIMF

GOSUB HUD

GOSUB DRAWMAP
GOSUB FADEIN

DO
  GOSUB UPDATESONG
  
  GOSUB HANDLEPLAYER

  REM SCROLLING
  IF PLRX>SCRX+36 THEN SCRX=PLRX-36
  IF PLRX<SCRX+28 THEN SCRX=PLRX-28
  IF SCRX<0 THEN SCRX=0
  X=LEVELCOLS*8-64
  IF SCRX>X THEN SCRX=X
  GOSUB DRAWMAP

  REM PLAYER SPRITE
  F=ANIMF
  IF DIR=-1 THEN F=F+2
  SPRITE 0,PLRX-SCRX-4,PLRY-7,F

  GOSUB HANDLEBULLETS

  GOSUB HANDLEOBJECTS

  GOSUB PALETTEFX
  
  IF ONEUPANIM>0 THEN
    ONEUPANIM=ONEUPANIM-1
    GOSUB HUD
  END IF
  
  TIME=TIME-0.05
  WAIT 0.05
LOOP


HANDLEPLAYER:
  REM PLAYER MOVEMENT LEFT/RIGHT

  VELX=0
  IF LEFT(0) THEN
    VELX=-2
    DIR=-1
  END IF
  IF RIGHT(0) THEN
    VELX=2
    DIR=1
  END IF
  PLRX=PLRX+VELX
  Y=INT((PLRY)/8)
  IF Y<0 THEN Y=0
  IF Y>7 THEN Y=7
  IF VELX<0 THEN
    IF PLRX<3 THEN
      PLRX=3
    ELSE
      T=MAP(INT((PLRX-3)/8),Y)
      IF PROP(T,0)=2 THEN PLRX=INT((PLRX-3)/8+1)*8+3
    END IF
  ELSE IF VELX>0 THEN
    LX=LEVELCOLS*8-4
    IF PLRX>LX THEN
      PLRX=LX
      RETURN FINISHLEVEL
    ELSE
      T=MAP(INT((PLRX+3)/8),Y)
      IF PROP(T,0)=2 THEN PLRX=INT((PLRX+3)/8)*8-3
    END IF
  END IF
  IF VELX<>0 THEN ANIMF=(ANIMF+1) MOD 2 ELSE ANIMF=0

  REM PLAYER JUMP/FALL
  
  IF VELY<4 THEN VELY=VELY+1
  IF VELY<-4 THEN PLRY=PLRY-4 ELSE PLRY=PLRY+VELY
  IF VELY<0 THEN Y=PLRY-8 ELSE Y=PLRY+1
  IF Y>=0 AND Y<64 THEN
    T=MAP(INT((PLRX-2)/8),INT(Y/8))
    IF PROP(T,0)=0 THEN
      T=MAP(INT((PLRX+2)/8),INT(Y/8))
    END IF
  ELSE
    T=0
  END IF
  IF VELY<0 AND PROP(T,0)=2 THEN
    PLRY=INT(Y/8+1)*8+7
    VELY=0
  ELSE IF VELY>=0 AND PROP(T,0)>0 THEN
    IF INT(LPLRY/8)<INT(PLRY/8) THEN
      PLRY=INT(Y/8)*8-1
      VELY=0
    END IF
  END IF
  IF VELY=0 AND T>0 AND BUTTON TAP(0,1) THEN
    VELY=-7
    SOUND OFF 2
    SOUND 2,64,8,0
  END IF
  LPLRY=PLRY
  IF PLRY>72 THEN RETURN DEATH
RETURN


HANDLEBULLETS:
  FOR I=1 TO 4
    IF SPRITE I(I)>=0 THEN
      X=SPRITE X(I)
      Y=SPRITE Y(I)
      IF SPRITE I(I)=4 THEN
        X=X+4
        D=7
      ELSE
        X=X-4
        D=0
      END IF
      MX=INT((SCRX+X+D)/8)
      MY=INT((Y+4)/8)
      IF MY<0 THEN MY=0
      IF MY>7 THEN MY=7
      IF MX>=0 AND MX<LEVELCOLS THEN T=MAP(MX,MY) ELSE T=0
      IF X<-7 OR X>63 OR PROP(T,0)=2 THEN
        SPRITE OFF I
      ELSE
        SPRITE I,X,,
      END IF
    END IF
  NEXT I

  IF BUTTON TAP(0,2) THEN
    X=PLRX-SCRX
    Y=PLRY-7
    IF DIR=1 THEN X=X+1 ELSE X=X-9
    IF DIR=1 THEN F=4 ELSE F=5
    SPRITE 1+BULC,X,Y,F
    SPRITE PALETTE 1+BULC,PAL(F,0),PAL(F,1),PAL(F,2)
    SOUND OFF 2
    SOUND 2,45+RND*4,4,1
    BULC=(BULC+1) MOD 4
  END IF
RETURN


HANDLEOBJECTS:
  FOR I=0 TO NUMOBJS-1
    TYPE=OBJ(I,OBJTYPE)-1
    IF TYPE>=0 THEN
      IF OBJ(I,OBJX)>SCRX-32 AND OBJ(I,OBJX)<SCRX+96 THEN

        THITS=OPROP(TYPE,OPROPHITS)
        TFRAME=OPROP(TYPE,OPROPFRAME)
        TMOVE=OPROP(TYPE,OPROPMOVE)
        TTOUCH=OPROP(TYPE,OPROPTOUCH)
        TSCORE=OPROP(TYPE,OPROPSCORE)

        OFRAME=TFRAME

        IF OBJ(I,OBJHITS)=THITS THEN
          IF OBJ(I,OBJY)<64 AND THITS>-1 THEN
            OBJ(I,OBJY)=OBJ(I,OBJY)+4
          END IF
        ELSE
          OBJ(I,OBJTICK)=OBJ(I,OBJTICK)+1
          
          IF TMOVE=0 THEN

            REM NO MOVEMENT

          ELSE IF TMOVE=1 THEN

            REM WALK LEFT AND RIGHT
            OBJ(I,OBJX)=OBJ(I,OBJX)+OBJ(I,OBJDIR)
            X=OBJ(I,OBJX)
            Y1=OBJ(I,OBJY)+8
            Y2=OBJ(I,OBJY)+7
            IF OBJ(I,OBJDIR)=1 THEN X=X+7
            IF X<0 OR X>=NUMCOLS*8 THEN
              OBJ(I,OBJDIR)=-OBJ(I,OBJDIR)
            ELSE
              T1=MAP(INT(X/8),INT(Y1/8))
              T2=MAP(INT(X/8),INT(Y2/8))
              IF PROP(T1,0)=0 OR PROP(T2,0)=2 THEN
                OBJ(I,OBJDIR)=-OBJ(I,OBJDIR)
              END IF
            END IF
            IF OBJ(I,OBJDIR)>0 THEN OFRAME=OFRAME+2

          ELSE IF TMOVE=2 THEN

            REM TIMED TRAP (FIRE)
            TICK=OBJ(I,OBJTICK) MOD 80
            X=OBJ(I,OBJX)
            IF TICK>=60 THEN
              OFRAME=OFRAME+2
              IF TICK=60 AND X>=SCRX AND X<SCRX+64 THEN
                SOUND OFF 2
                SOUND 2,37,24,5
              END IF
            ELSE
              TTOUCH=0
            END IF

          ELSE IF TMOVE=3 THEN

            REM FLY UP AND DOWN
            OBJ(I,OBJY)=OBJ(I,OBJY)+OBJ(I,OBJDIR)
            IF OBJ(I,OBJTICK) MOD 16=0 THEN
              OBJ(I,OBJDIR)=-OBJ(I,OBJDIR)
            END IF

          ELSE IF TMOVE=4 THEN

            REM MOVE DOWN UNTIL COLLISION AND UP
            
            X=OBJ(I,OBJX)
            Y=OBJ(I,OBJY)
            IF OBJ(I,OBJDIR)=-1 THEN
              T=MAP(INT(X/8),INT(Y/8)+1)
              IF PROP(T,0)>0 THEN OBJ(I,OBJDIR)=1
            ELSE IF OBJ(I,OBJDIR)=1 THEN
              IF Y=OBJ(I,OBJSTARTY) THEN OBJ(I,OBJDIR)=0
            ELSE
              IF OBJ(I,OBJTICK) MOD 16=0 THEN OBJ(I,OBJDIR)=-1
            END IF
            OBJ(I,OBJY)=OBJ(I,OBJY)-OBJ(I,OBJDIR)

          END IF

        END IF

        N=5+I MOD 11
        IF OBJ(I,OBJHITS)<>THITS OR THITS>-1 THEN
          OFRAME=OFRAME+(OBJ(I,OBJTICK) MOD 2)
          F=OFRAME
          SPRITE N,OBJ(I,OBJX)-SCRX,OBJ(I,OBJY),F
          SPRITE PALETTE N,PAL(F,0),PAL(F,1),PAL(F,2)
        END IF

        IF OBJ(I,OBJHITS)<>THITS THEN
          IF SPRITE HIT(N,0) THEN

            IF TTOUCH=1 THEN

              IF NOT CHEAT THEN RETURN DEATH

            ELSE IF TTOUCH=2 THEN

              REM COLLECT
              SPRITE OFF N
              OBJ(I,OBJHITS)=THITS
              SOUND OFF 2
              SOUND 2,70,2,4
              SOUND 2,75,3
              IF TSCORE=-1 THEN
                RINGS=RINGS+1
                IF RINGS=RINGSFORLIFE THEN
                  LIVES=LIVES+1
                  ONEUPANIM=15
                  SOUND 2,71,2,4
                  SOUND 2,76,3
                  SOUND 2,72,2,4
                  SOUND 2,77,3
                END IF
              ELSE
                SCORE=SCORE+TSCORE
              END IF
              GOSUB HUD

            END IF

          END IF

          IF SPRITE HIT(N,1 TO 4) AND THITS>-1 THEN
            SPRITE OFF HIT
            SPRITE PALETTE N,1,1,1
            OBJ(I,OBJHITS)=OBJ(I,OBJHITS)+1
            SOUND OFF 2
            IF OBJ(I,OBJHITS)<THITS THEN
              SOUND 2,30+RND*4,2,2
            ELSE
              SOUND 2,42,2,2
              SOUND 2,30,2,2
              SOUND 2,18,2,2
              SCORE=SCORE+TSCORE
              GOSUB HUD
            END IF
          END IF
        END IF

      END IF
    ELSE
      EXIT
    END IF
  NEXT I
RETURN


PALETTEFX:
PALCOUNT=PALCOUNT+1
IF PALCOUNT=10 THEN
  PALETTE 7,52
  PALETTE 8,56
ELSE  IF PALCOUNT=16 THEN
  PALETTE 7,56
  PALETTE 8,60
  PALCOUNT=0
END IF
RETURN


HUD:
LAYER 1
CLS
COLOR 3
TEXT 63,1,LIVES,2
TEXT 0,1,SCORE
TEXT 0,7,RINGS
IF ONEUPANIM MOD 2=0 THEN COLOR 1 ELSE COLOR 7
TEXT 63,0,LIVES,2
COLOR 1
TEXT 0,0,SCORE
TEXT 0,6,RINGS
LAYER 0
RETURN

FINISHLEVEL:
SPRITE OFF
LAYER 1
CLS
LAYER 0
COLOR 1
FOR I=0 TO 8
  BAR 0,I*8 TO 63,I*8+7
  WAIT 0.05
NEXT I
TIMEBONUS=MAX(0,INT(TIME/2))*5
RINGBONUS=RINGS*100
IF LEVEL=MAXLEVEL THEN LIFEBONUS=LIVES*1000 ELSE LIFEBONUS=0
GOSUB LEVELRESULT
SPRITE 0,28,54,0
WAIT 2 TAP
WHILE TIMEBONUS>0
  TIMEBONUS=TIMEBONUS-5
  SCORE=SCORE+5
  GOSUB LEVELRESULT
  WAIT 0.05
WEND
WHILE RINGBONUS>0
  RINGBONUS=RINGBONUS-10
  SCORE=SCORE+10
  GOSUB LEVELRESULT
  WAIT 0.05
WEND
WHILE LIFEBONUS>0
  LIFEBONUS=LIFEBONUS-50
  SCORE=SCORE+50
  GOSUB LEVELRESULT
  WAIT 0.05
WEND
REPEAT
  WAIT 0.1
UNTIL BUTTON(0)
COLOR 0
FOR I=0 TO 8
  BAR 0,I*8 TO 63,I*8+7
  SPRITE 0,28+I*4,54,I MOD 2
  WAIT 0.05
NEXT I
SPRITE OFF
LEVEL=LEVEL+1
IF LEVEL>MAXLEVEL THEN
  GOTO GAMECOMPLETE
ELSE
  GOTO STARTLEVEL
END IF

LEVELRESULT:
CLS 1
COLOR 4
IF LEVEL=MAXLEVEL THEN
  TEXT 31,1,"GAME COMPLETE",1
ELSE
  TEXT 31,1,"LEVEL COMPLETE",1
END IF
COLOR 13
TEXT 1,44,"SCORE"
TEXT 1,20,"TIME BONUS"
TEXT 1,26,"RING BONUS"
IF LEVEL=MAXLEVEL THEN TEXT 1,32,"LIFE BONUS"
COLOR 0
TEXT 62,44,SCORE,2
TEXT 62,20,TIMEBONUS,2
TEXT 62,26,RINGBONUS,2
IF LEVEL=MAXLEVEL THEN TEXT 62,32,LIFEBONUS,2
RETURN

DEATH:
SOUND OFF
FOR I=33 TO 29 STEP -1
  SOUND 2,I,3,3
NEXT I
WHILE SPRITE Y(0)<64
  SPRITE 0,,SPRITE Y(0)+4
  WAIT 0.05
WEND
WAIT 0.5
LIVES=LIVES-1
IF LIVES=0 THEN GOTO GAMEOVER
GOSUB FADEOUT
GOTO STARTLEVEL


GAMEOVER:
GAMEPAD 0
GOSUB HUD
LAYER 1
COLOR 3
TEXT 32,33,"GAME OVER",1
COLOR 1
TEXT 32,32,"GAME OVER",1
LAYER 0
WAIT 3 TAP
WHILE BUTTON(0)
  WAIT 0.1
WEND
GOTO THEHIGHSCORES


GAMECOMPLETE:
GAMEPAD 0
GOSUB FADEOUT
SPRITE OFF
LAYER 0
RESTORE THEEND
GOSUB SHOWIMAGE
LAYER 1
CLS
GOSUB FADEIN
RESTORE TITLESONG
GOSUB READSONG
SNGMAXVOICE=2
RESTORE THEENDTEXT
READ T$
WHILE T$<>"--"
  COLOR 1
  TEXT 31,58,T$,1
  COLOR 0
  FOR I=1 TO 7
    SCROLL 0,0 TO 63,63,0,-1
    FOR J=1 TO 2
      GOSUB UPDATESONG
      IF BUTTON TAP(0) THEN GOTO THEHIGHSCORES
      WAIT 0.1
    NEXT J
  NEXT I
  READ T$
WEND
FOR I=1 TO 64
  SCROLL 0,0 TO 63,63,0,-1
  FOR J=1 TO 2
    GOSUB UPDATESONG
    IF BUTTON TAP(0) THEN GOTO THEHIGHSCORES
    WAIT 0.1
  NEXT J
NEXT I
GOTO THEHIGHSCORES


THEHIGHSCORES:
NEWHIGH=-1
FOR I=7 TO 0 STEP -1
  IF SCORE>HIGHSCORES(I) THEN
    NEWHIGH=I
    IF I<7 THEN
      HIGHSCORES(I+1)=HIGHSCORES(I)
      HIGHNAMES$(I+1)=HIGHNAMES$(I)
    END IF
  END IF
NEXT I
IF NEWHIGH>=0 THEN
  HIGHSCORES(NEWHIGH)=SCORE
  HIGHNAMES$(NEWHIGH)=""
END IF
PALETTE CLEAR
GOSUB DRAWHIGHSCORES
IF NEWHIGH>=0 THEN
  GAMEPAD 1
  LY=8+NEWHIGH*7
  P=1
  N$=LASTNAME$
  REPEAT
    BL=NOT BL
    IF LEFT(0) AND P>1 THEN
      P=P-1
      BL=TRUE
    END IF
    IF RIGHT(0) AND P<3 THEN
      P=P+1
      BL=TRUE
    END IF
    A=ASC(MID$(N$,P,1))
    IF UP(0) AND A<90 THEN N$=LEFT$(N$,P-1)+CHR$(A+1)+RIGHT$(N$,3-P)
    IF DOWN(0) AND A>65 THEN N$=LEFT$(N$,P-1)+CHR$(A-1)+RIGHT$(N$,3-P)
    COLOR 13
    BAR 9,LY-1 TO 27,LY+5
    FOR I=1 TO 3
      IF I=P AND BL THEN COLOR 4 ELSE COLOR 7
      IF I>1 THEN X=10+TEXT WIDTH(MID$(N$,1,I-1)) ELSE X=10
      TEXT X,LY,MID$(N$,I,1)
    NEXT I
    GOSUB UPDATESONG
    WAIT 0.1
  UNTIL BUTTON TAP(0)
  HIGHNAMES$(NEWHIGH)=N$
  LASTNAME$=N$
  GOSUB DRAWHIGHSCORES
  SUBMITSCORE SCORE
  GAMEPAD 0
END IF
REPEAT
  GOSUB UPDATESONG
  WAIT 0.1
UNTIL BUTTON TAP(0)
SOUND OFF
GOSUB FADEOUT
GOTO STARTGAME

DRAWHIGHSCORES:
LAYER 1
CLS
COLOR 13
FOR Y=-1 TO 1
  FOR X=-1 TO 1
    TEXT 31+X,1+Y,"HIGH SCORES",1
  NEXT X
NEXT Y
COLOR 4
TEXT 31,1,"HIGH SCORES",1
FOR I=0 TO 7
  LY=8+I*7
  I$=(I+1)+"."
  COLOR 13
  FOR Y=-1 TO 1
    FOR X=-1 TO 1
      TEXT 2+X,LY+Y,I$
      TEXT 10+X,LY+Y,HIGHNAMES$(I)
      TEXT 61+X,LY+Y,HIGHSCORES(I),2
    NEXT X
  NEXT Y
  IF I=NEWHIGH THEN COLOR 7 ELSE COLOR 1
  TEXT 2,LY,I$
  TEXT 10,LY,HIGHNAMES$(I)
  TEXT 61,LY,HIGHSCORES(I),2
NEXT I
RETURN


SHOWIMAGE:
FOR Y=0 TO 63
  FOR X=0 TO 63 STEP 2
    READ BYT
    REM EXTRACT FIRST COLOR FROM BYTE
    COLOR INT(BYT/16)
    PLOT X,Y
    REM EXTRACT SECONDS COLOR WITH BINARY "AND"
    COLOR BYT AND 15
    PLOT X+1,Y
  NEXT X
NEXT Y
RETURN


READMAP:
FOR I=0 TO NUMOBJS-1
  OBJ(I,0)=0
NEXT I
T=0
OI=0
LEVELCOLS=0
READ MAPWIDTH,MAPHEIGHT
FOR X=0 TO MAPWIDTH-1
  FOR Y=0 TO MAPHEIGHT-1
    READ T
    MAP(X,Y)=T AND 63
    T2=INT(T/64)
    IF T2>0 THEN
      OBJ(OI,OBJTYPE)=T2
      OBJ(OI,OBJX)=X*8
      OBJ(OI,OBJY)=Y*8
      OBJ(OI,OBJDIR)=-1
      OBJ(OI,OBJTICK)=0
      OBJ(OI,OBJHITS)=O
      OBJ(OI,OBJSTARTX)=X*8
      OBJ(OI,OBJSTARTY)=Y*8
      OI=OI+1
    END IF
    IF T>0 AND X>=LEVELCOLS THEN LEVELCOLS=X+1
  NEXT Y
NEXT X
RETURN


DRAWMAP:
IF SCRX=LSCRX THEN RETURN
MOX=INT(SCRX/8)
TOX=SCRX MOD 8
XL=0
IF TOX>0 THEN XR=8 ELSE XR=7
IF LSCRX>-1 AND ABS(SCRX-LSCRX)<64 THEN
  SCROLL 0,0 TO 63,63,LSCRX-SCRX,0
  IF SCRX>LSCRX THEN
    XL=XR-INT((SCRX-LSCRX-1+TOX)/8)
  ELSE
    XR=INT((LSCRX-SCRX-1+TOX)/8)
  END IF
END IF
FOR X=XL TO XR
  FOR Y=0 TO 7
    T=MAP(X+MOX,Y)
    TX=(T MOD 8)*8
    TY=INT(T/8)*8
    PUT X*8-TOX,Y*8,TX,TY,8,8
  NEXT Y
NEXT X
LSCRX=SCRX
RETURN


INITFADE:
DIM SCRPAL(15,2)
FOR I=0 TO 15
  SCRPAL(I,0)=INT(PALETTE(I)/16)
  SCRPAL(I,1)=INT(PALETTE(I)/4) MOD 4
  SCRPAL(I,2)=PALETTE(I) MOD 4
NEXT I
RETURN

FADEIN:
FOR I=3 TO 0 STEP -1
  FOR J=1 TO 15
    R=MAX(0,SCRPAL(J,0)-I)
    G=MAX(0,SCRPAL(J,1)-I)
    B=MAX(0,SCRPAL(J,2)-I)
    PALETTE J,R*16+G*4+B
  NEXT J
  WAIT 0.1
NEXT I
RETURN

FADEOUT:
FOR I=0 TO 3
  FOR J=1 TO 15
    R=MAX(0,SCRPAL(J,0)-I)
    G=MAX(0,SCRPAL(J,1)-I)
    B=MAX(0,SCRPAL(J,2)-I)
    PALETTE J,R*16+G*4+B
  NEXT J
  WAIT 0.1
NEXT I
RETURN


TILEPROPS:
REM COLLISION 1=FLOOR 2=BLOCK
DATA 0,1,0,1,2,0,2,1
DATA 0,0,0,0,0,0,0,0
DATA 0,0,0,0,0,0,0,0
DATA 0,2,2,1,1,1,1,0
DATA 0,1,1,0,0,0,2,2
DATA 0,0
DATA -1

OBJPROPS:
REM FIRST FRAME, MOVE MODE, HITS, TOUCH MODE, SCORE (-1=RING)
DATA 6,1,1,1,10
DATA 10,1,3,1,30
DATA 14,2,-1,1,0
DATA 18,0,-1,2,-1
DATA 20,3,5,1,20
DATA 22,4,-1,1,0
DATA -1


SPRITES:

REM PLAYER RIGHT
DATA 2,128,2,64,3,192,10,160,14,108,11,160,12,48,10,40
DATA 0,4,2,3
DATA 2,128,2,64,3,192,10,160,15,96,10,160,3,240,2,128
DATA 0,4,2,3
REM PLAYER LEFT
DATA 2,128,1,128,3,192,10,160,57,176,10,224,12,48,40,160
DATA 0,4,2,3
DATA 2,128,1,128,3,192,10,160,9,240,10,160,15,192,2,128
DATA 0,4,2,3
REM BULLET RIGHT
DATA 0,0,0,0,0,0,1,35,4,72,0,0,0,0,0,0
DATA 0,4,7,8
REM BULLET LEFT
DATA 0,0,0,0,0,0,200,64,33,16,0,0,0,0,0,0
DATA 0,4,7,8
REM ENEMY 1 LEFT
DATA 0,0,0,0,1,64,9,144,5,80,3,192,15,240,20,20
DATA 0,4,8,6
DATA 0,0,0,0,1,64,9,144,5,80,3,192,3,240,5,80
DATA 0,4,8,6
REM ENEMY 1 RIGHT
DATA 0,0,0,0,1,64,6,96,5,80,3,192,15,192,5,80
DATA 0,4,8,6
DATA 0,0,0,0,1,64,6,96,5,80,3,192,15,240,20,20
DATA 0,4,8,6
REM ENEMY 2 LEFT
DATA 0,0,0,0,1,64,9,144,5,80,3,192,15,240,20,20
DATA 0,14,8,15
DATA 0,0,0,0,1,64,9,144,5,80,3,192,3,240,5,80
DATA 0,14,8,15
REM ENEMY 2 RIGHT
DATA 0,0,0,0,1,64,6,96,5,80,3,192,15,192,5,80
DATA 0,14,8,15
DATA 0,0,0,0,1,64,6,96,5,80,3,192,15,240,20,20
DATA 0,14,8,15
REM FIRE LOW
DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,64
DATA 0,4,7,8
DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,128
DATA 0,4,7,8
REM FIRE HIGH
DATA 0,64,1,64,1,128,6,144,7,164,27,228,27,228,6,144
DATA 0,4,7,8
DATA 1,64,17,64,6,68,6,144,26,208,27,228,27,228,6,144
DATA 0,4,7,8
REM RING
DATA 0,0,5,80,22,148,24,36,24,36,22,148,5,80,0,0
DATA 0,14,8,3
DATA 0,0,10,160,41,104,36,24,36,24,41,104,10,160,0,0
DATA 0,14,8,3
REM ENEMY FLYING
DATA 5,80,10,160,23,212,11,224,23,212,10,160,5,80,48,12
DATA 0,14,2,4
DATA 5,80,10,160,21,84,10,160,21,84,10,160,5,80,0,0
DATA 0,14,2,4
REM ENEMY GRABBER
DATA 2,128,10,240,10,240,4,16,16,4,64,1,64,1,16,4
DATA 0,1,6,5
DATA 2,128,10,240,10,240,4,16,4,16,16,4,16,4,4,16
DATA 0,1,6,5


TITLE:
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 193,17,204,204,204,204,17,17,17,204,17,28,204,204,17,28
DATA 17,17,17,17,204,193,17,17,28,204,17,17,17,28,204,204
DATA 193,66,220,204,204,193,66,34,34,28,20,45,204,204,18,45
DATA 20,34,34,34,28,20,34,34,33,193,66,66,66,34,204,204
DATA 193,34,220,204,204,193,34,34,34,44,18,45,204,204,18,45
DATA 18,34,34,34,45,18,34,34,34,193,34,34,34,34,220,204
DATA 193,66,220,204,204,193,66,221,18,45,20,45,204,204,18,45
DATA 20,45,221,18,45,20,45,209,34,220,221,18,45,221,220,204
DATA 193,34,220,204,204,193,34,220,18,45,18,45,204,204,18,45
DATA 18,45,204,18,45,18,45,193,34,220,204,18,45,204,204,204
DATA 193,66,220,204,204,193,66,220,18,45,20,45,204,204,18,45
DATA 20,45,204,18,45,20,45,193,34,220,204,18,45,204,204,204
DATA 193,34,220,204,204,193,34,220,18,45,18,45,17,28,18,45
DATA 18,33,17,34,221,18,45,193,34,220,204,18,45,204,204,204
DATA 193,34,220,204,204,193,34,220,18,45,18,45,18,45,18,45
DATA 18,34,34,34,220,18,45,193,34,220,204,18,45,204,204,204
DATA 193,34,220,204,204,193,34,220,18,45,18,45,18,45,18,45
DATA 18,45,221,18,44,18,45,193,34,220,204,18,45,204,204,204
DATA 193,34,220,204,204,193,34,220,18,45,18,45,18,45,18,45
DATA 18,45,204,18,45,18,45,193,34,220,204,18,45,204,204,204
DATA 193,34,220,204,204,193,34,220,18,45,18,45,18,45,18,45
DATA 18,45,204,18,45,18,45,193,34,220,204,18,45,204,204,204
DATA 193,34,17,17,17,193,34,17,34,45,18,33,34,33,34,45
DATA 18,33,17,34,45,18,33,18,34,220,204,18,45,204,196,204
DATA 193,34,34,34,34,209,34,34,34,45,18,34,34,34,34,45
DATA 18,34,34,34,45,18,34,34,34,220,204,18,45,204,68,204
DATA 204,34,34,34,45,220,34,34,34,221,194,34,45,34,34,221
DATA 18,34,34,34,221,194,34,34,45,220,76,18,45,196,76,204
DATA 204,205,221,221,221,204,205,221,221,220,204,221,221,205,221,220
DATA 205,221,221,221,220,204,221,221,221,196,76,205,221,68,76,204
DATA 204,204,204,204,204,204,204,204,203,187,204,204,204,204,204,204
DATA 204,204,204,204,204,204,204,196,204,196,76,204,196,68,76,204
DATA 188,204,203,204,204,188,204,188,187,187,188,204,188,204,204,204
DATA 204,204,204,204,76,204,204,196,76,68,68,204,68,68,76,204
DATA 203,203,204,187,188,204,188,203,187,187,187,188,204,188,204,203
DATA 204,188,204,188,68,204,203,68,76,68,132,196,68,132,204,204
DATA 204,204,187,187,187,187,204,187,187,187,187,187,203,204,203,204
DATA 203,187,204,204,196,76,204,68,68,68,132,68,72,68,203,204
DATA 204,187,187,187,187,187,187,187,187,187,187,187,188,188,188,188
DATA 187,187,203,204,180,68,188,72,68,72,136,68,136,68,188,203
DATA 187,187,187,187,187,187,187,17,27,187,187,187,187,204,204,203
DATA 187,187,188,203,180,68,203,72,136,136,136,136,136,68,204,68
DATA 187,187,187,187,187,187,177,34,35,187,187,187,187,187,204,187
DATA 187,187,187,187,187,132,68,72,143,255,255,255,136,76,68,68
DATA 187,187,187,187,187,187,18,34,34,59,187,187,187,187,187,187
DATA 187,187,187,187,187,72,68,143,254,238,238,238,255,132,72,76
DATA 187,187,187,187,187,187,18,51,51,59,187,187,187,187,187,187
DATA 187,187,187,187,187,72,136,254,238,238,238,238,238,248,132,76
DATA 187,187,187,187,187,187,18,52,68,59,187,187,187,187,187,187
DATA 187,187,187,180,187,68,143,238,238,238,238,238,238,255,132,76
DATA 187,187,187,187,187,187,18,56,72,59,187,187,187,187,187,187
DATA 187,187,187,180,68,184,254,238,238,238,238,238,238,239,244,203
DATA 153,155,187,187,187,187,18,51,51,59,187,187,187,187,187,187
DATA 187,187,187,180,68,72,254,238,238,238,238,238,238,239,244,188
DATA 153,153,153,153,155,187,18,34,34,59,187,187,187,187,187,187
DATA 187,187,187,180,68,72,247,119,238,238,238,238,238,239,255,188
DATA 154,153,153,153,153,153,18,34,34,59,187,187,187,187,187,187
DATA 187,187,187,180,132,143,120,136,126,238,238,238,238,239,255,187
DATA 153,154,169,169,17,153,51,34,34,57,155,187,187,187,187,187
DATA 180,187,187,68,132,135,133,88,135,238,238,238,238,239,255,187
DATA 170,169,153,147,17,17,51,51,51,57,153,153,187,187,187,187
DATA 180,75,187,72,72,135,133,88,135,238,231,119,238,239,255,187
DATA 102,106,170,99,51,17,17,51,51,49,25,153,153,187,187,187
DATA 72,68,187,72,72,135,136,136,135,231,120,136,119,239,255,187
DATA 102,102,102,99,51,34,34,34,49,17,17,26,154,187,75,187
DATA 72,72,75,72,75,143,120,136,126,231,136,136,135,239,255,153
DATA 86,102,102,17,19,34,34,34,34,34,34,57,153,164,132,187
DATA 132,68,132,72,75,79,231,119,238,120,133,88,136,127,255,153
DATA 102,102,97,34,19,34,34,34,34,34,34,49,17,20,72,75
DATA 132,187,68,132,75,79,238,238,238,120,133,88,136,127,255,153
DATA 86,102,18,34,35,34,34,34,34,34,34,50,34,68,180,72
DATA 68,187,68,132,75,191,238,238,238,120,136,136,136,127,255,170
DATA 86,86,18,34,35,34,33,17,17,34,34,50,34,131,187,72
DATA 75,187,180,68,187,191,238,238,238,231,136,136,135,239,255,86
DATA 86,102,18,34,51,34,35,51,51,34,34,51,51,51,187,68
DATA 75,187,187,68,187,187,254,239,238,231,120,136,119,239,255,86
DATA 86,86,18,35,51,34,35,68,67,34,34,51,51,59,187,180
DATA 187,187,187,180,187,187,254,254,238,238,231,119,238,255,255,86
DATA 102,86,18,34,51,34,35,72,67,34,34,54,102,187,187,187
DATA 187,187,187,187,187,187,255,238,238,238,238,238,238,255,245,102
DATA 102,86,50,34,50,34,35,132,131,34,34,54,86,187,187,187
DATA 85,91,187,187,191,255,254,238,238,238,238,238,239,255,245,102
DATA 102,86,99,34,50,34,35,68,67,34,35,102,102,187,187,181
DATA 68,69,187,187,254,238,238,238,238,238,238,238,239,255,245,102
DATA 102,102,102,51,50,34,35,17,19,34,35,102,102,187,187,181
DATA 68,68,85,85,85,94,238,238,238,238,238,238,239,255,245,102
DATA 102,101,102,51,50,34,35,51,51,34,35,101,102,187,187,181
DATA 84,68,68,68,68,69,238,238,238,238,238,238,255,255,245,101
DATA 101,101,102,51,50,34,34,34,34,34,35,102,170,170,154,153
DATA 85,84,68,68,85,94,238,238,238,238,238,238,255,255,86,102
DATA 101,102,102,99,50,34,34,34,34,34,35,170,170,153,153,153
DATA 149,85,85,85,94,238,238,255,254,238,238,238,255,255,86,101
DATA 101,102,102,102,50,34,34,34,34,34,35,170,153,170,169,169
DATA 153,149,85,89,159,255,255,254,239,238,238,238,255,255,86,101
DATA 101,101,102,102,50,34,34,34,34,34,35,153,153,153,153,153
DATA 153,153,153,153,153,153,153,254,238,238,238,238,255,255,170,102
DATA 102,102,102,170,163,51,51,50,34,34,35,154,170,154,153,153
DATA 153,153,153,154,154,170,153,254,238,238,238,238,239,255,154,170
DATA 102,170,170,170,163,51,57,147,51,51,51,153,153,153,153,153
DATA 153,153,153,153,153,153,159,238,238,238,238,238,239,255,153,170
DATA 170,170,170,169,147,35,57,153,51,51,153,170,169,169,153,153
DATA 154,153,153,169,170,153,175,238,238,254,238,238,238,255,249,153
DATA 170,169,153,153,147,35,57,169,50,51,153,154,153,153,153,153
DATA 153,153,153,153,153,153,159,238,238,254,238,238,238,255,249,153
DATA 153,153,170,153,147,51,57,147,51,51,153,153,153,153,153,153
DATA 153,159,255,153,153,159,254,238,238,254,238,239,254,239,255,153
DATA 154,170,153,147,50,34,57,147,34,35,57,153,153,153,153,153
DATA 153,254,238,255,153,254,238,238,239,254,238,239,254,238,255,153
DATA 153,153,153,147,34,34,57,147,34,34,57,153,153,153,153,153
DATA 159,238,238,238,255,238,238,238,255,254,238,239,255,238,238,255
DATA 170,169,170,147,34,35,57,147,51,34,58,153,153,153,153,153
DATA 159,238,238,238,238,238,238,255,255,254,238,255,255,254,238,238
DATA 154,153,153,153,51,58,170,153,170,51,58,170,153,153,153,153
DATA 159,254,238,238,238,238,239,255,249,254,238,255,255,255,238,238
DATA 153,153,154,153,154,170,170,170,170,170,170,170,170,169,153,153
DATA 153,255,254,238,238,238,255,255,159,238,238,255,159,255,255,238
DATA 153,154,153,153,153,170,170,170,170,170,170,170,170,170,153,153
DATA 153,159,255,255,255,255,255,153,159,238,238,255,169,255,255,255
DATA 153,153,153,153,153,154,170,170,170,170,170,170,170,170,169,153
DATA 169,153,255,255,255,255,249,170,175,238,238,255,170,170,175,255
DATA 153,153,153,153,153,153,170,170,170,170,170,170,170,170,170,153
DATA 154,153,153,255,255,250,170,170,175,238,239,255,170,170,170,170
DATA 153,153,153,154,153,153,154,170,170,170,170,170,170,170,170,169
DATA 153,153,153,153,170,170,170,170,254,238,239,255,170,170,154,170
DATA 153,153,153,153,154,170,153,170,170,170,170,170,170,170,170,170
DATA 153,154,170,153,153,170,170,170,254,238,239,255,170,170,153,153

TILES:
DATA 187,187,187,187,153,153,153,153,86,102,102,102,102,102,102,102
DATA 34,34,34,35,3,51,51,51,153,153,153,153,102,101,101,102
DATA 187,187,187,187,153,153,154,153,101,102,102,86,85,85,85,85
DATA 18,50,35,50,51,48,51,35,153,153,153,153,85,85,85,85
DATA 187,187,187,187,170,153,170,154,102,85,102,102,85,85,85,85
DATA 34,50,34,34,51,3,51,51,169,154,169,169,85,85,85,85
DATA 187,187,187,187,170,170,169,169,102,102,86,102,85,85,85,85
DATA 51,33,35,34,48,51,48,51,170,170,154,170,85,85,85,85
DATA 187,187,187,187,169,165,170,170,102,86,86,102,0,80,80,80
DATA 34,34,35,34,51,51,3,51,163,170,163,163,187,187,187,187
DATA 187,187,187,187,170,86,165,165,102,102,101,86,101,85,85,85
DATA 34,35,50,34,51,35,51,3,50,58,58,50,187,187,187,187
DATA 187,187,187,187,85,102,86,86,102,101,102,101,102,86,85,85
DATA 35,34,34,34,51,51,51,51,34,35,34,34,187,187,187,187
DATA 187,187,187,187,102,102,102,102,86,102,102,102,102,85,85,85
DATA 34,34,33,35,51,48,51,51,34,34,33,35,187,187,187,187
DATA 102,86,85,85,187,187,187,185,155,187,187,187,170,170,170,170
DATA 187,187,187,187,187,187,187,187,187,187,187,187,203,188,187,203
DATA 102,86,85,85,187,187,185,154,169,155,187,187,170,169,170,170
DATA 187,187,187,187,177,17,17,187,187,187,187,187,28,193,204,188
DATA 101,86,85,85,187,187,154,170,170,169,187,187,170,154,170,170
DATA 187,187,17,27,17,17,17,27,17,17,27,187,187,187,27,177
DATA 102,86,85,85,187,185,170,170,170,170,155,187,170,169,170,170
DATA 187,177,17,17,17,17,17,17,17,17,17,187,203,187,187,188
DATA 101,86,85,85,187,154,154,170,170,154,169,187,170,154,170,170
DATA 187,17,17,17,17,17,17,17,17,17,17,27,187,187,177,187
DATA 102,85,85,85,185,169,170,170,170,169,170,155,170,170,170,170
DATA 187,193,17,17,193,17,17,17,193,17,17,203,177,27,203,187
DATA 102,86,85,85,185,154,170,170,170,170,154,155,170,170,170,170
DATA 187,188,204,204,188,17,17,204,188,204,204,187,187,187,187,187
DATA 102,85,85,85,153,169,169,169,169,169,169,169,169,169,169,169
DATA 187,187,187,187,187,204,204,187,187,187,187,187,187,203,187,17
DATA 187,187,187,187,187,187,187,187,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 187,184,123,187,187,17,187,187,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 187,180,71,123,177,135,27,187,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 135,116,68,71,177,119,27,187,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 68,68,68,68,187,17,187,187,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 187,180,68,75,187,187,171,187,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 187,180,75,187,187,171,171,171,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 187,187,187,187,187,186,170,187,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 85,85,85,85,34,34,34,34,102,101,102,86,34,34,34,35
DATA 204,17,33,33,33,33,33,33,33,33,34,204,34,34,34,35
DATA 85,5,85,85,35,51,51,51,102,86,102,102,35,51,35,51
DATA 193,0,0,0,0,0,0,0,0,0,0,45,33,18,34,35
DATA 85,85,85,85,51,51,51,51,102,102,102,102,51,51,51,51
DATA 16,35,50,34,34,35,50,34,34,35,50,2,196,68,68,93
DATA 85,85,85,85,51,51,51,51,102,86,102,86,51,51,51,51
DATA 32,48,3,36,36,48,3,36,36,48,3,2,33,18,34,35
DATA 85,85,85,85,85,85,85,85,102,102,101,102,80,0,80,0
DATA 16,48,3,66,66,48,3,66,66,48,3,2,196,68,68,93
DATA 85,85,80,85,102,86,85,102,101,102,102,102,85,85,85,85
DATA 32,35,50,34,34,35,50,34,34,35,50,2,33,18,34,35
DATA 85,85,85,85,102,102,102,102,102,86,102,102,85,85,5,85
DATA 194,0,0,0,0,0,0,0,0,0,0,45,196,68,68,93
DATA 80,85,85,85,102,102,102,102,102,102,102,102,85,85,85,85
DATA 205,34,50,50,50,50,50,50,50,50,50,221,194,17,34,61
DATA 35,82,53,35,18,34,34,34,34,34,34,34,85,85,85,85
DATA 69,84,85,69,204,204,204,205,187,187,188,187,17,17,17,18
DATA 36,82,53,35,36,36,36,130,41,40,41,40,85,88,117,85
DATA 116,71,68,68,204,204,204,205,187,187,188,187,18,34,34,35
DATA 39,82,53,35,34,34,34,34,51,51,51,51,85,84,71,117
DATA 71,120,135,71,204,204,204,205,204,204,204,204,18,34,34,35
DATA 35,82,53,35,36,36,130,66,34,34,34,34,135,116,68,71
DATA 68,68,68,68,204,204,204,205,187,193,187,187,35,51,51,51
DATA 35,82,117,35,34,34,34,34,51,51,51,51,68,68,68,68
DATA 116,120,116,71,204,204,204,205,187,203,187,187,204,204,204,204
DATA 35,82,69,35,40,66,66,66,85,85,85,85,85,84,68,69
DATA 68,68,68,68,204,204,204,205,187,203,187,187,187,203,187,187
DATA 35,82,53,35,34,34,34,34,85,85,80,85,85,84,69,85
DATA 71,68,72,116,204,204,204,205,204,204,204,204,204,204,204,204
DATA 35,82,53,35,51,51,51,51,85,85,85,85,85,85,85,85
DATA 68,68,68,68,221,221,221,221,187,187,188,27,187,187,188,27
DATA 204,204,204,205,204,204,204,205,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 204,200,124,205,196,201,196,205,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 204,196,71,125,204,204,204,205,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 135,116,68,71,200,196,196,205,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 68,68,68,68,204,204,204,205,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 204,196,68,77,196,196,199,205,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 204,196,76,205,204,204,204,205,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 221,221,221,221,221,221,221,221,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 51,51,51,51,0,0,0,0,51,51,51,51,0,0,0,0
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51
DATA 0,0,0,0,51,51,51,51,0,0,0,0,51,51,51,51

THEEND:
DATA 221,221,221,221,221,221,221,221,221,219,221,221,221,221,221,221
DATA 221,205,221,221,221,221,221,221,221,221,221,189,221,221,221,221
DATA 221,221,221,221,221,221,221,221,220,177,188,221,221,221,221,221
DATA 220,188,221,221,221,221,221,221,221,221,203,27,205,221,221,221
DATA 221,221,221,221,221,221,221,221,221,219,221,221,221,221,221,221
DATA 221,205,221,221,221,221,221,221,221,221,221,189,221,221,221,221
DATA 221,221,221,221,205,221,221,221,221,220,220,221,221,221,221,221
DATA 221,221,221,221,221,221,221,221,221,221,221,205,221,221,221,221
DATA 221,221,221,221,189,221,221,221,221,221,203,205,221,221,221,221
DATA 221,221,221,221,221,221,221,220,221,221,221,221,221,221,221,221
DATA 221,221,221,203,27,205,221,221,221,221,220,221,221,221,221,221
DATA 221,221,221,221,221,221,221,203,205,221,221,221,221,221,221,221
DATA 221,221,221,221,189,221,221,221,221,221,221,221,221,221,221,221
DATA 221,221,221,221,205,221,221,220,221,221,221,221,221,221,220,221
DATA 221,221,221,221,205,221,221,221,221,221,221,220,221,221,221,221
DATA 221,221,221,220,188,221,221,221,221,221,221,221,221,221,219,221
DATA 221,221,205,221,221,221,221,221,221,221,221,203,205,221,221,221
DATA 221,221,221,221,205,221,221,221,221,221,221,221,221,220,177,188
DATA 221,220,188,221,221,221,221,221,221,221,221,220,221,221,221,221
DATA 221,221,221,221,221,221,221,221,221,221,221,221,221,221,219,221
DATA 221,221,205,221,221,221,221,221,221,221,221,221,221,221,221,221
DATA 221,221,221,221,221,221,221,221,221,221,221,221,221,221,220,221
DATA 205,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221
DATA 221,221,221,221,220,221,221,221,221,221,221,221,221,221,221,221
DATA 204,205,221,221,221,221,221,221,221,221,221,221,221,221,221,221
DATA 221,221,221,221,203,205,221,221,221,221,221,221,221,221,221,221
DATA 204,204,221,221,221,221,221,205,221,221,221,221,221,221,221,221
DATA 221,221,221,221,220,221,221,221,221,221,221,221,221,221,221,221
DATA 204,203,205,221,221,221,220,188,221,221,204,204,204,204,204,204
DATA 205,221,221,221,221,221,221,221,221,205,221,221,221,221,221,221
DATA 204,177,188,205,221,221,221,205,221,204,204,204,204,204,204,204
DATA 204,204,221,221,221,221,221,221,221,189,221,221,221,221,221,221
DATA 204,203,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,188,204,221,221,221,221,221,203,27,205,221,221,221,221,221
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,204,205,221,221,221,221,221,189,221,221,221,220,221,221
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,204,204,220,204,204,204,204,204,221,221,221,203,205,221
DATA 204,204,204,204,204,204,204,204,204,188,204,204,204,204,204,204
DATA 204,204,204,204,179,51,51,51,51,51,204,204,221,220,221,221
DATA 204,204,204,204,204,204,204,204,203,27,204,204,204,204,204,204
DATA 204,204,204,179,51,51,51,51,51,51,51,51,205,221,221,221
DATA 204,204,204,204,204,204,204,204,204,188,204,204,204,204,204,204
DATA 204,204,203,51,51,51,51,51,51,51,51,51,60,221,221,221
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,179,56,56,56,56,56,51,51,51,51,51,205,221,221
DATA 204,204,204,204,204,203,204,204,204,204,204,204,204,204,204,204
DATA 204,203,55,51,51,51,51,51,56,56,55,51,51,60,221,221
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,179,51,34,34,34,34,35,51,51,51,55,55,51,205,221
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,203,204,204
DATA 204,203,34,34,34,34,34,34,34,34,34,51,51,55,60,221
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,34,34,34,34,34,226,34,34,34,34,35,51,60,221
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,194,34,34,239,46,255,47,34,34,34,34,35,115,205
DATA 204,204,188,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,204,34,46,255,46,255,239,242,34,34,34,34,35,205
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,188
DATA 204,204,204,206,239,242,239,242,239,242,47,34,34,34,204,221
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,204,239,255,46,255,34,239,242,239,242,44,204,221,221
DATA 204,204,204,203,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,206,255,204,239,252,34,239,242,239,252,204,204,204,204
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,239,252,204,239,252,206,255,204,239,252,204,204,204,204
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,239,204,204,239,252,206,255,204,239,252,204,204,204,204
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,206,255,204,204,239,252,206,255,204,206,252,204,204,204,204
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,239,252,204,204,239,252,206,255,204,206,255,204,204,204,204
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 206,255,204,204,206,255,204,206,255,204,204,239,204,204,204,204
DATA 204,204,204,204,204,204,204,204,204,204,188,204,204,204,204,204
DATA 239,252,204,204,239,252,204,206,255,204,204,239,252,203,204,204
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 207,204,204,206,255,204,204,206,255,204,204,206,255,204,204,204
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,204,239,252,204,204,206,255,204,204,204,239,252,204,204
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,204,239,252,204,204,206,255,204,204,204,239,252,204,204
DATA 204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204
DATA 204,204,204,239,252,204,204,239,252,204,204,204,239,252,204,204
DATA 204,204,204,204,203,188,204,204,204,204,204,204,204,221,221,204
DATA 204,204,204,239,252,204,206,255,252,204,204,204,239,204,204,204
DATA 204,204,204,204,35,59,204,204,204,204,204,204,204,220,205,204
DATA 204,204,204,239,252,204,206,255,204,204,205,221,220,204,204,204
DATA 186,204,204,204,35,75,204,204,204,204,204,204,204,220,189,204
DATA 204,204,204,207,204,204,239,255,204,204,205,204,220,204,204,187
DATA 170,170,204,204,35,59,204,204,204,204,204,221,221,220,205,204
DATA 204,204,221,220,204,204,207,252,204,204,205,188,220,204,187,153
DATA 170,170,172,204,179,59,204,204,204,204,204,220,204,220,189,205
DATA 221,220,220,220,204,204,204,204,204,204,205,203,220,187,153,154
DATA 170,170,170,187,187,187,187,204,204,204,204,220,203,220,205,205
DATA 204,220,219,220,204,204,204,205,221,205,221,204,187,153,154,170
DATA 170,170,170,35,51,51,59,204,204,204,204,220,204,220,205,205
DATA 203,220,220,220,221,221,220,205,205,205,205,187,185,170,170,170
DATA 170,170,170,35,51,51,187,204,204,204,204,220,188,220,205,205
DATA 204,220,220,220,220,203,220,205,189,203,187,153,170,170,170,170
DATA 170,170,171,35,51,51,51,188,204,204,204,220,204,220,205,205
DATA 204,220,220,220,220,204,220,205,203,185,154,170,170,170,170,170
DATA 170,170,171,35,51,51,179,59,171,187,153,220,204,220,205,205
DATA 204,220,217,153,153,153,153,153,153,170,170,170,170,170,170,170
DATA 170,170,171,35,51,51,59,59,170,170,170,169,153,153,153,153
DATA 153,153,154,170,170,170,170,170,170,170,170,170,171,186,170,170
DATA 170,170,171,35,51,51,59,59,170,170,170,170,170,170,170,170
DATA 170,170,170,170,170,170,170,170,170,170,170,170,183,123,170,170
DATA 170,170,170,35,51,51,59,186,170,170,170,170,170,170,170,170
DATA 170,170,170,170,170,170,170,170,170,170,170,170,183,107,170,170
DATA 170,170,170,34,34,34,43,170,170,170,170,170,170,170,170,170
DATA 170,170,170,170,170,170,170,170,170,170,170,170,171,186,170,170
DATA 170,170,170,162,50,59,170,170,170,170,170,170,170,170,170,170
DATA 170,170,170,170,170,170,170,170,170,170,170,170,169,170,170,170
DATA 170,170,170,162,50,59,170,170,170,170,170,170,170,170,170,170
DATA 170,170,170,170,170,170,170,170,170,170,170,169,169,170,170,154
DATA 170,169,170,162,50,59,186,170,154,170,170,170,169,170,170,170
DATA 170,170,170,170,170,170,170,170,170,170,170,153,169,169,170,170
DATA 169,170,170,162,34,34,186,170,170,170,169,170,170,170,169,170
DATA 170,170,169,170,170,170,154,170,170,154,170,169,153,154,170,170
DATA 170,170,170,170,170,170,170,170,169,170,170,170,170,170,170,170
DATA 170,154,170,170,154,170,170,169,170,169,170,170,153,170,170,154
DATA 170,170,169,170,154,170,170,170,169,170,154,170,170,169,170,154
DATA 170,154,170,170,170,170,154,170,170,169,170,170,170,170,169,170
DATA 170,170,169,170,169,170,154,170,170,170,154,170,154,170,170,169
DATA 170,154,170,154,169,170,154,170,154,170,169,170,170,169,170,170
DATA 169,170,170,170,170,170,154,169,170,170,170,170,169,170,170,170
DATA 170,170,170,154,170,170,170,170,154,154,169,170,154,169,170,154


THEENDTEXT:
REM   ...............
DATA "YOU DEFEATED"
DATA "THE FIRST INVA-"
DATA "SION OF THE"
DATA "ALIENS AND THEY"
DATA "LEAVE WITH THEIR"
DATA "BIG SPACESHIP."
DATA ""
DATA "BUT DO YOU THINK"
DATA "THAT'S ALL?"
DATA ""
DATA "THEY ARE STILL"
DATA "OUT THERE..."
DATA ""
DATA ""
DATA "PEACEFUL ALIENS"
DATA "ARE WELCOME, OF"
DATA "COURSE!"
DATA ""
DATA ""
DATA ""
DATA "THE END"
DATA "--"


LEVEL1:
DATA 64,8
DATA 0,0,0,0,0,0,1,2,0,12,0,0,0,17,1,2
DATA 0,13,0,0,0,0,1,2,0,13,0,0,0,0,1,2
DATA 9,9,9,0,0,0,1,2,11,11,11,8,8,8,1,2
DATA 10,10,10,0,0,0,1,2,0,0,0,0,0,17,1,2
DATA 12,0,0,0,1,2,1,2,13,0,0,64,1,2,1,2
DATA 14,0,0,17,1,2,1,2,0,0,256,0,1,2,1,2
DATA 0,0,0,0,0,0,1,2,0,0,0,0,0,0,1,2
DATA 0,0,0,0,0,0,1,2,0,12,0,0,0,64,1,2
DATA 0,14,0,0,0,17,1,2,9,9,0,0,0,0,1,2
DATA 11,11,8,8,8,8,1,2,10,10,0,0,0,0,1,2
DATA 0,0,0,0,1,2,1,2,12,0,0,128,1,2,1,2
DATA 13,0,0,17,1,2,1,2,14,0,256,0,1,2,1,2
DATA 0,0,0,0,0,0,1,2,9,0,7,0,0,0,1,2
DATA 267,8,3,8,8,8,1,2,10,64,7,0,0,0,1,2
DATA 0,0,0,0,0,0,1,2,0,0,0,6,4,4,4,4
DATA 0,0,0,6,4,4,4,4,0,0,0,6,4,4,4,4
DATA 12,0,64,6,4,4,4,4,13,0,0,0,1,2,1,2
DATA 13,0,0,0,1,2,1,2,14,256,0,64,1,2,1,2
DATA 9,9,9,0,0,0,1,2,11,11,11,8,8,8,1,2
DATA 10,10,10,0,0,128,1,2,0,0,0,0,0,0,0,15
DATA 0,256,7,0,0,0,0,15,9,0,7,0,0,0,1,2
DATA 11,8,8,8,8,8,1,2,10,0,0,0,0,0,1,2
DATA 0,256,7,0,0,0,0,15,12,128,7,0,0,0,0,15
DATA 13,0,0,0,0,0,1,2,14,0,0,0,0,17,1,2
DATA 0,0,6,4,5,197,4,4,256,0,6,4,5,5,4,4
DATA 0,0,0,6,4,5,4,4,12,0,17,6,4,5,4,4
DATA 13,0,0,6,4,69,4,4,13,0,0,6,4,5,4,4
DATA 14,0,0,6,4,5,4,4,0,0,64,6,4,197,4,4
DATA 0,0,0,0,0,0,1,2,0,0,0,0,0,17,1,2
DATA 9,9,9,0,7,0,1,2,11,267,11,8,3,8,1,2
DATA 10,10,10,128,7,0,1,2,12,0,0,0,0,0,1,2
DATA 13,0,0,0,0,16,1,2,14,0,0,0,0,64,1,2

LEVEL2:
DATA 64,8
DATA 0,0,0,0,0,0,1,2,9,9,9,0,0,0,1,2
DATA 11,11,11,8,8,8,1,2,10,10,10,0,0,0,1,2
DATA 0,0,0,0,0,0,1,2,26,26,0,0,0,17,1,2
DATA 26,26,26,24,24,24,25,26,26,26,26,24,24,24,25,26
DATA 26,26,26,24,24,24,25,26,26,26,24,24,24,24,25,26
DATA 26,24,24,24,24,152,25,26,26,24,24,24,24,24,25,26
DATA 24,24,24,24,24,24,25,26,280,27,24,24,24,24,25,26
DATA 24,27,24,24,24,24,25,26,88,27,24,152,27,24,25,26
DATA 24,27,24,24,27,24,25,26,24,24,24,24,24,24,24,36
DATA 24,24,24,27,24,24,24,36,24,24,24,27,24,24,24,36
DATA 26,24,216,25,26,26,26,26,26,24,24,25,26,26,26,26
DATA 26,32,32,25,26,26,26,26,24,24,344,25,26,26,26,26
DATA 24,24,24,24,24,24,24,36,24,24,24,24,24,24,24,36
DATA 24,24,27,24,25,26,26,26,24,24,27,280,25,26,26,26
DATA 24,152,27,24,25,26,26,26,24,24,24,24,24,24,25,26
DATA 24,24,24,24,24,24,25,26,24,24,33,32,32,32,25,26
DATA 24,24,34,24,24,88,25,26,24,24,34,24,24,24,25,26
DATA 24,152,34,24,24,24,25,26,280,24,33,32,32,32,32,25
DATA 24,24,24,24,24,24,24,25,26,24,24,33,32,32,32,25
DATA 26,24,88,34,24,24,88,25,26,280,24,33,32,32,32,25
DATA 24,24,344,24,24,24,24,25,24,24,24,24,24,25,26,26
DATA 24,24,24,24,216,25,26,26,24,24,24,24,24,25,26,26
DATA 24,24,24,24,152,25,26,26,24,24,24,27,24,24,24,36
DATA 24,24,24,27,24,24,24,36,280,24,24,27,24,24,24,36
DATA 24,24,152,27,24,24,24,36,24,24,24,24,24,24,24,36
DATA 26,24,24,24,25,26,26,26,26,24,24,216,25,26,26,26
DATA 26,280,24,24,25,26,26,26,26,24,24,344,25,26,26,26
DATA 26,24,24,24,24,24,25,26,26,24,24,24,24,24,25,26
DATA 26,24,24,33,32,32,25,26,26,24,88,34,24,24,25,26
DATA 26,280,24,33,32,32,25,26,26,24,24,344,24,24,216,25
DATA 26,24,24,33,32,32,32,25,26,280,24,34,24,24,24,25
DATA 26,24,24,34,24,24,35,25,26,26,26,33,32,32,160,25

LEVEL3:
DATA 64,8
DATA 24,24,24,25,26,26,26,26,24,24,24,25,26,26,26,26
DATA 24,24,24,25,26,26,26,26,32,32,32,25,26,26,26,26
DATA 24,24,216,25,26,26,26,26,26,24,24,344,24,25,26,26
DATA 26,32,32,32,32,25,26,26,26,24,24,24,152,25,26,26
DATA 26,26,24,24,24,24,24,25,26,26,32,32,33,32,32,25
DATA 26,26,24,24,33,24,216,25,38,38,293,37,37,37,37,39
DATA 38,38,37,37,37,37,37,39,38,38,37,37,37,37,37,37
DATA 38,38,37,37,37,37,37,37,38,38,37,41,37,37,39,38
DATA 38,38,31,421,37,37,39,38,38,38,37,41,37,165,39,38
DATA 37,37,37,37,37,37,37,37,293,37,28,165,28,37,37,37
DATA 37,37,30,37,30,37,39,38,37,37,357,37,37,37,39,38
DATA 37,37,37,37,37,37,39,38,41,37,39,38,38,38,38,38
DATA 37,37,39,38,38,38,38,38,41,165,39,38,38,38,38,38
DATA 37,37,357,37,37,37,37,39,37,37,37,37,37,41,37,39
DATA 37,37,37,28,37,37,293,39,37,37,37,29,37,37,37,37
DATA 31,421,37,29,37,37,37,37,37,37,37,30,37,37,293,39
DATA 37,37,37,37,37,41,37,39,37,37,37,37,37,37,165,39
DATA 38,37,37,37,37,39,38,38,38,37,41,37,37,39,38,38
DATA 38,31,421,37,37,39,38,38,38,37,41,37,37,39,38,38
DATA 38,37,37,37,37,39,38,38,38,37,37,37,357,37,39,38
DATA 38,37,37,293,37,37,39,38,38,37,37,37,37,165,39,38
DATA 293,28,37,41,37,37,37,37,37,29,37,37,37,37,37,37
DATA 101,30,37,41,37,28,37,37,37,37,37,37,37,30,37,37
DATA 37,37,37,28,37,37,37,37,31,421,37,29,37,37,37,37
DATA 293,37,101,29,37,37,37,28,37,41,37,30,37,37,37,29
DATA 37,37,37,37,37,37,101,30,37,37,37,37,37,37,37,37
DATA 37,37,28,37,37,28,37,37,37,37,29,37,37,29,37,37
DATA 37,101,30,37,37,30,37,37,37,37,357,37,37,37,37,37
DATA 37,41,37,28,37,37,39,38,31,421,37,29,37,37,39,38
DATA 37,37,37,29,37,37,39,38,37,41,101,29,37,37,39,38
DATA 37,37,37,30,37,165,39,38,31,421,37,37,37,37,39,38
DATA 37,293,37,37,37,40,39,38,38,38,38,38,37,37,39,38


INITINSTRUMENTS:
REM ** STANDARDS
DEF SOUND SNGFIRSTINST+0,0
DEF SOUND SNGFIRSTINST+1,1
DEF SOUND SNGFIRSTINST+2,2
DEF SOUND SNGFIRSTINST+3,3
REM ** PULSE WIDTH VARIATIONS
DEF SOUND SNGFIRSTINST+4,2,0.25
DEF SOUND SNGFIRSTINST+5,2,0.12
DEF SOUND SNGFIRSTINST+6,2,0.06
DEF SOUND SNGFIRSTINST+7,2,0.2
DEF SOUND LINE SNGFIRSTINST+7,1,0,0.8
REM ** DRUMS
DEF SOUND SNGFIRSTINST+8,2,0.5,0.1
DEF SOUND LINE SNGFIRSTINST+8,0.1,24,0
DEF SOUND SNGFIRSTINST+9,3,0,0.1
DEF SOUND LINE SNGFIRSTINST+9,0.1,24,0
DEF SOUND SNGFIRSTINST+10,3,0,0.05
DEF SOUND SNGFIRSTINST+11,3,0,0.1
DEF SOUND LINE SNGFIRSTINST+11,0.1,-24,0
REM ** BENDED
DEF SOUND SNGFIRSTINST+12,0
DEF SOUND LINE SNGFIRSTINST+12,0.2,-3,0
DEF SOUND SNGFIRSTINST+13,0
DEF SOUND LINE SNGFIRSTINST+13,0.2,3,0
DEF SOUND SNGFIRSTINST+14,1
DEF SOUND LINE SNGFIRSTINST+14,0.2,-3,0
DEF SOUND SNGFIRSTINST+15,1
DEF SOUND LINE SNGFIRSTINST+15,0.2,3,0
DEF SOUND SNGFIRSTINST+16,2,0.5
DEF SOUND LINE SNGFIRSTINST+16,0.2,-3,0
DEF SOUND SNGFIRSTINST+17,2,0.5
DEF SOUND LINE SNGFIRSTINST+17,0.2,3,0
REM ** BEND ATTACK
DEF SOUND SNGFIRSTINST+18,0
DEF SOUND LINE SNGFIRSTINST+18,0.05,12,0
DEF SOUND SNGFIRSTINST+19,1
DEF SOUND LINE SNGFIRSTINST+19,0.05,12,0
DEF SOUND SNGFIRSTINST+20,2,0.5
DEF SOUND LINE SNGFIRSTINST+20,0.05,12,0
REM *** SFX
DEF SOUND SNGFIRSTINST+21,1
DEF SOUND LINE SNGFIRSTINST+21,2,24,0
DEF SOUND SNGFIRSTINST+22,3
DEF SOUND LINE SNGFIRSTINST+22,2,24,0
DEF SOUND SNGFIRSTINST+23,1
DEF SOUND LINE SNGFIRSTINST+23,2,-24,0
DEF SOUND SNGFIRSTINST+24,3
DEF SOUND LINE SNGFIRSTINST+24,2,-24,0
RETURN

READSONG:
REM SNGTEMPO IS UNUSED BUT RESERVED
READ SNGTICKS,SNGTEMPO
FOR SNGR=0 TO 15
  FOR SNGV=0 TO 2
    READ SNGARR(SNGR,SNGV)
  NEXT SNGV
NEXT SNGR
DO
  READ SNGC
  IF SNGC=-1 THEN EXIT
  FOR SNGCR=0 TO 15
    FOR SNGI=0 TO 1
      READ SNGCHA(SNGC,SNGCR,SNGI)
    NEXT SNGI
  NEXT SNGCR
LOOP
DO
  READ SNGP
  IF SNGP=-1 THEN EXIT
  FOR SNGPR=0 TO 15
    FOR SNGI=0 TO 1
      READ SNGPHR(SNGP,SNGPR,SNGI)
    NEXT SNGI
  NEXT SNGPR
LOOP
FOR SNGV=0 TO 2
  SNGPLAYER(SNGV,0)=0
  SNGPLAYER(SNGV,1)=FALSE
NEXT SNGV
SNGROW=0
RETURN

UPDATESONG:
SNGEND=TRUE
FOR SNGV=0 TO SNGMAXVOICE
  IF NOT SOUND END(SNGV) THEN SNGEND=FALSE
NEXT SNGV
IF SNGEND THEN GOSUB QUEUENEXTSONGCHAIN
RETURN

QUEUENEXTSONGCHAIN:
IF SNGROW=16 THEN
  SNGROW=0
ELSE IF SNGARR(SNGROW,0)=255 AND SNGARR(SNGROW,1) AND SNGARR(SNGROW,2)=255 THEN
  SNGROW=0
END IF
FOR SNGV=0 TO SNGMAXVOICE
  SNGC=SNGARR(SNGROW,SNGV)
  IF SNGC=255 THEN
    SOUND SNGV,0,16*SNGTICKS
  ELSE
    SNGCR=SNGPLAYER(SNGV,0)
    SNGP=SNGCHA(SNGC,SNGCR,0)
    IF SNGP=255 THEN
      SOUND SNGV,0,16*SNGTICKS
    ELSE
      SNGT=SNGCHA(SNGC,SNGCR,1)
      SNGCURR=0
      FOR SNGPR=0 TO 16
        IF SNGPR<16 THEN SNGN=SNGPHR(SNGP,SNGPR,0) ELSE SNGN=0
        IF SNGN<255 AND SNGPR>SNGCURR THEN
          SNGN=SNGPHR(SNGP,SNGCURR,0)
          SNGD=(SNGPR-SNGCURR)*SNGTICKS
          IF SNGN=0 OR SNGN=255 THEN
            SOUND SNGV,0,SNGD
          ELSE
            SNGS=SNGFIRSTINST+SNGPHR(SNGP,SNGCURR,1)
            SOUND SNGV,SNGN+SNGT,SNGD,SNGS
          END IF
          SNGCURR=SNGPR
        END IF
      NEXT SNGPR
    END IF
  END IF
NEXT SNGV
SNGRDONE=TRUE
FOR SNGV=0 TO 2
  SNGC=SNGARR(SNGROW,SNGV)
  IF SNGC<255 THEN
    SNGCR=SNGPLAYER(SNGV,0)+1
    IF SNGCR<16 THEN SNGP=SNGCHA(SNGC,SNGCR,0) ELSE SNGP=255
    IF SNGP=255 THEN
      SNGCR=0
      SNGPLAYER(SNGV,1)=TRUE
    END IF
    SNGPLAYER(SNGV,0)=SNGCR
    IF NOT SNGPLAYER(SNGV,1) THEN SNGRDONE=FALSE
  END IF
NEXT SNGV
IF SNGRDONE THEN
  SNGROW=SNGROW+1
  FOR SNGV=0 TO 2
    SNGPLAYER(SNGV,0)=0
    SNGPLAYER(SNGV,1)=FALSE
  NEXT SNGV
END IF
RETURN


TITLESONG:
DATA 4,0
DATA 0,10,20,1,11,255,1,11,21,255,255,255
DATA 255,255,255,255,255,255,255,255,255,255,255,255
DATA 255,255,255,255,255,255,255,255,255,255,255,255
DATA 255,255,255,255,255,255,255,255,255,255,255,255
DATA 0
DATA 0,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 1
DATA 1,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 10
DATA 10,0,10,0,10,-2,10,0
DATA 10,3,10,2,10,0,10,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 11
DATA 10,7,10,0,10,5,10,3
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 20
DATA 20,0,20,0,21,0,22,0
DATA 23,0,24,0,25,0,26,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 21
DATA 27,0,28,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA -1
DATA 0
DATA 25,8,25,8,49,9,255,255
DATA 255,255,25,8,49,9,85,10
DATA 25,8,25,8,49,9,85,10
DATA 255,255,25,8,49,9,255,255
DATA 1
DATA 25,8,255,255,61,10,255,255
DATA 255,255,255,255,61,10,255,255
DATA 62,11,255,255,61,10,255,255
DATA 255,255,255,255,61,10,255,255
DATA 10
DATA 25,4,37,5,25,6,37,4
DATA 25,5,37,6,25,4,37,5
DATA 25,6,37,4,25,5,37,6
DATA 25,4,37,5,25,6,37,4
DATA 20
DATA 66,19,0,255,64,1,66,19
DATA 0,255,64,1,61,1,255,255
DATA 255,255,255,255,0,255,255,255
DATA 59,1,255,255,61,1,255,255
DATA 21
DATA 64,14,255,255,255,255,63,1
DATA 255,255,255,255,59,15,255,255
DATA 255,255,56,1,255,255,255,255
DATA 255,255,0,255,56,1,255,255
DATA 22
DATA 59,1,255,255,255,255,61,14
DATA 255,255,255,255,0,255,255,255
DATA 255,255,61,8,60,8,255,255
DATA 59,8,58,8,255,255,57,8
DATA 23
DATA 64,19,0,255,64,1,68,14
DATA 255,255,255,255,66,1,255,255
DATA 64,14,255,255,63,1,255,255
DATA 61,1,255,255,63,1,255,255
DATA 24
DATA 63,19,0,255,63,1,66,14
DATA 255,255,255,255,64,1,255,255
DATA 63,14,255,255,61,1,255,255
DATA 59,1,255,255,61,1,255,255
DATA 25
DATA 61,19,0,255,64,1,61,19
DATA 0,255,64,1,61,19,255,255
DATA 255,255,255,255,0,255,255,255
DATA 61,8,61,8,61,8,61,8
DATA 26
DATA 61,8,60,8,255,255,59,8
DATA 58,8,255,255,57,8,56,8
DATA 255,255,255,255,255,255,255,255
DATA 56,8,55,8,54,8,53,8
DATA 27
DATA 46,21,255,255,255,255,255,255
DATA 255,255,255,255,0,255,255,255
DATA 255,255,255,255,255,255,255,255
DATA 50,22,255,255,255,255,255,255
DATA 28
DATA 70,23,255,255,255,255,255,255
DATA 255,255,255,255,0,255,255,255
DATA 255,255,255,255,255,255,255,255
DATA 74,24,255,255,255,255,255,255
DATA -1

SONGLEVEL1:
DATA 3,0
DATA 0,10,255,255,255,255,255,255,255,255,255,255
DATA 255,255,255,255,255,255,255,255,255,255,255,255
DATA 255,255,255,255,255,255,255,255,255,255,255,255
DATA 255,255,255,255,255,255,255,255,255,255,255,255
DATA 0
DATA 0,0,0,0,0,-3,0,-3
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 10
DATA 10,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA -1
DATA 0
DATA 49,19,255,255,0,255,255,255
DATA 255,255,255,255,48,19,255,255
DATA 44,19,255,255,0,255,255,255
DATA 255,255,255,255,48,19,255,255
DATA 10
DATA 24,10,255,255,255,255,255,255
DATA 24,9,255,255,255,255,255,255
DATA 24,10,255,255,255,255,255,255
DATA 24,9,255,255,255,255,255,255
DATA -1

SONGLEVEL2:
DATA 3,0
DATA 0,10,255,255,255,255,255,255,255,255,255,255
DATA 255,255,255,255,255,255,255,255,255,255,255,255
DATA 255,255,255,255,255,255,255,255,255,255,255,255
DATA 255,255,255,255,255,255,255,255,255,255,255,255
DATA 0
DATA 0,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 10
DATA 11,0,11,0,12,0,10,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA 255,0,255,0,255,0,255,0
DATA -1
DATA 0
DATA 25,10,255,255,25,10,255,255
DATA 255,255,255,255,255,255,255,255
DATA 25,9,255,255,255,255,255,255
DATA 255,255,255,255,255,255,255,255
DATA 10
DATA 25,7,255,255,26,7,255,255
DATA 27,7,255,255,255,255,255,255
DATA 0,255,255,255,255,255,255,255
DATA 255,255,255,255,255,255,255,255
DATA 11
DATA 39,1,255,255,255,255,255,255
DATA 38,1,255,255,255,255,255,255
DATA 37,1,255,255,255,255,255,255
DATA 32,1,255,255,255,255,255,255
DATA 12
DATA 32,1,255,255,33,1,255,255
DATA 34,1,255,255,35,1,255,255
DATA 36,1,255,255,255,255,255,255
DATA 0,255,255,255,255,255,255,255
DATA -1
